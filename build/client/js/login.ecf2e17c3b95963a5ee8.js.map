{"version":3,"sources":["webpack:///./client/views/login/controllers/UIController/index.js","webpack:///./client/views/login/controllers/UIController/DOM.js","webpack:///./client/views/login/login.js"],"names":[],"mappings":";;;;;;;;AAAA;;AAEe;;;;;;;;;ACFf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;ACRA;AAAA;AACgB;AAChB;AACc;;AAEd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,qBAAqB,QAAQ,YAAY,8FAA2B;AACpE,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA","file":"js/login.ecf2e17c3b95963a5ee8.js","sourcesContent":["import DOM from './DOM';\n\nexport { DOM }; // eslint-disable-line\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/views/login/controllers/UIController/index.js\n// module id = 12\n// module chunks = 3","const DOM = {\n  form: 'form',\n  errorMessage: '.error-message',\n  errorCloseBtn: '.error-close',\n  demoMenu: '#demo-menu',\n  demoInfo: '.demo-info',\n};\n\nexport default DOM;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/views/login/controllers/UIController/DOM.js\n// module id = 20\n// module chunks = 3","/* global window */\nimport 'styles'; // eslint-disable-line\nimport $ from 'jquery';\nimport { DOM } from './controllers/UIController';\n\nfunction setupEventListeners() {\n  const $form = $(DOM.form);\n  const $errorMessage = $(DOM.errorMessage);\n  const $demoMenu = $(DOM.demoMenu);\n  const $demoInfo = $(DOM.demoInfo);\n\n  $demoMenu.on('click', () => {\n    $demoInfo.tapTarget('open');\n  });\n\n  $form.on('submit', (e) => {\n    const data = {};\n    e.preventDefault();\n\n    $form.serializeArray().forEach((field) => {\n      data[field.name] = field.value;\n    });\n\n    $.ajax('/login', {\n      data,\n      method: 'POST',\n    })\n    .done((res) => {\n      if (res.redirect) {\n        window.location.replace(res.redirect);\n      } else {\n        console.log(res);\n      }\n    })\n    .fail((xhr) => {\n      const $err = $(DOM.errorMessage);\n      const message = JSON.parse(xhr.responseText).message;\n\n      if (xhr.status === 401) {\n        $err.html(`${message}<i class=\"${DOM.errorCloseBtn.slice(1)} material-icons right\">close</i>`).removeClass('hide');\n      } else if (xhr.status === 500) {\n        // server error\n      }\n    });\n  });\n\n  $errorMessage.on('click', DOM.errorCloseBtn, () => {\n    $errorMessage.html('').addClass('hide');\n  });\n}\n\nfunction init() {\n  setupEventListeners();\n  $(DOM.demoInfo).tapTarget('open');\n}\n\n$(init);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/views/login/login.js\n// module id = 21\n// module chunks = 3"],"sourceRoot":""}